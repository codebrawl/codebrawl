- content_for(:title){ @user.name }

%h2= @user.name

#profile

  = image_tag @user.gravatar_url(:size => 140, :default => avatar_url)

  %ul
    %li= link_to("#{@user.login} on Github", "https://github.com/#{@user.login}")
    - @user.urls.reject {|key, value| key == 'GitHub' || value.nil? }.each do |key, url|
      %li= link_to url, url
    %li= "Position: ##{@users.index(@user.id) + 1}"
    %li= "Total points: #{@user.points}"
    %li= "Average score: #{sprintf("%.1f", @user.average_score)}/5"
    %li= "Average position: #{sprintf("%.1f", @user.calculate_average_position)}"

  - if @entered_contests.any?
    %h3 Entered contests
    %ul
      - @entered_contests.each do |contest|
        %li= link_to contest.name, contest

  - if @submitted_contests.any?
    %h3 Submitted contests
    %ul
      - @submitted_contests.all.each do |contest|
        %li= link_to contest.name, contest
  %hr
